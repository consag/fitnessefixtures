---
Test
---
!define TEST_SYSTEM {slim} 
!path ../fitnesse/java_workspace/fixtures
!path ../fitnesse/sqldeveloper/jdbc/lib/ojdbc6.jar
!path /u01/app/ibm/db2c/db2inst/sqllib/java/db2jcc_license_cisuz.jar
!path ../fitnesse/ibm

|import                       |
|generic.fixtures.Global      |
|generic.fixtures.PWCFixture  |
|generic.fixtures.LinuxFixture|
|generic.fixtures.DBFixture   |
|generic.fixtures.DACFixture  |

!1 Stop execution plan documentation and example

!2 Checks before you run an execution plan
Run the following checks before you execute an execution plan. For example, right after a deployment.

!3 How many tasks are defined in the execution plan?
This checks the number of tasks in an execution plan. It can be used before running an execution plan.
It checks the number of DEFINED tasks. This may be different from the number of tasks executed during a run. See further below on how that number can be verified.

|script|Check Exec Plan        |EB2|RB Fitnesse Fixture Test|
|check |number of tasks defined|4                           |


!2 Run your execution plan - Full or Incremental
!3 Start the execution plan
In this example a full load is done for execution plan "RB Fitnesse Fixture Test"
|Run Exec Plan                                                |
|Env|exec Plan Name          |run mode|start Plan successfull?|
|EB2|RB Fitnesse Fixture Test|Full    |Success                |

!3 Wait on the completion of the execution plan
|Run Exec Plan                                      |
|Env|exec Plan Name          |Stop on Errors|Result?|
|EB2|RB Fitnesse Fixture Test|Yes           |Success|

!3 Stop the execution plan
Stopping an execution plan is only useful if Run Exec Plan Result fixture was used in combination with Stop On Errors = Yes
In that case, the execution plan may continue to run until all independent tasks completed.
You may not want that in your test case. In that case use the following:

|Run Exec Plan                                     |
|Env|exec Plan Name          |stop Plan successful?|
|EB2|RB Fitnesse Fixture Test|Success              |

!3 Mark the failed execution plan Complete
|Run Exec Plan                                 |
|Env|exec Plan Name          |mark as complete?|
|EB2|RB Fitnesse Fixture Test|Success          |
