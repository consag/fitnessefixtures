---
Test
---
!contents -h
!1 Test script May 2015 (originally March 2013) to test PWC Fixture that uses Web Service call
!3 Change May 2015: In case of an error, the 'workflow successful?' returns 'Failed' (same as before) or 'ERROR' (new, instead of entire ..FrontPage.ExamplesJac.TestJac.PowerCenter error message)

Below worklfows will return errors because of connectivity issues, invalid username/passwords or processing errors

!4 Note: 'error?' will only be executed if 'abort on error' = No

!4 !-Note: The fixture DoWorkflows is marked as a Legacy fixture. A re-written, open source, version is available: StartWorkflow. It is advised that new applications use StartWorkflow instead of the Rabobank specific DoWorkflows fixture.
-!

For more info on the fixture !-StartWorkflow-! check http://fitnesse.solutions . A demo is available on http://fitnesse.solutions/ConsagDemo.StartWorkflow

----
 
!define TEST_SYSTEM {slim} 
!path ../fitnesse/java_workspace/fixtures
!path ../fitnesse/java_workspace/fixtures/generic/fixtures/PowerCenterWS


|import                       |
|generic.fixtures.Global      |
|generic.fixtures.PWCFixture  |
|generic.fixtures.LinuxFixture|
|generic.fixtures.DBFixture   |

!3 Basic call for IDQ
|do workflows    |idqtest1                                                                                         |
|application|folder    |workflow name|workflow successful?|error?|target rows?|source rows?|
|SDQ|RB_SDQ_FLAT|wf_Load_flat_organisation|Success|      |            |            |

!3 Basic call for DWHD
|do workflows    |test1                                                                                         |
|application|folder    |workflow name|abort on error|workflow successful?|error?|target rows?|source rows?|
|DWHD       |REUSE_DWHD|wf_STI_EBORG |No            |Failed              |      |            |            |

!3 Basic call for HHB
|do workflows                                                                                                  |
|application|folder|workflow name         |abort on error|workflow successful?|error?|target rows?|source rows?|
|HHB        |HHB   |wf_HHB_LOAD_HHB_USER_S|No            |Failed              |      |0           |0           |

!3 Basic call through new fixture, using web services
|do workflows                                                                           |
|application|folder  |workflow name          |abort on error|workflow successful?|error?|
|EB2        |SIL_Vert|SIL_UpdateRowInRunTable|No            |ERROR               |      |

!3 Extensions - ask for error msg (if any)
|do workflows                                                                           |
|application|folder  |workflow name          |abort on error|workflow successful?|error?|
|EB2        |SIL_Vert|SIL_UpdateRowInRunTable|No            |ERROR               |      |

!3 Extension - could also ask for number of source or target records. Does not have to be in this order.
|do workflows                                                                                                     |
|application|folder  |workflow name          |abort on error|workflow successful?|error?|source rows?|target rows?|
|EB2        |SIL_Vert|SIL_UpdateRowInRunTable|No            |ERROR               |      |0           |0           |

!3 Another example: retrieve number of source records and target records. Not interested in error msg in this example.
|do workflows                                                                                                     |
|application|folder  |workflow name          |abort on error|workflow successful?|error?|target rows?|source rows?|
|EB2        |SIL_Vert|SIL_UpdateRowInRunTable|No            |ERROR               |      |0           |0           |

!3 example with parameter file: retrieve number of source records and target records.
|do workflows                                                                                                                                                        |
|application|folder  |workflow name          |parameter directory|parameter file|abort on error|workflow successful?|error?|target success rows?|source success rows?|
|EB2        |SIL_Vert|SIL_UpdateRowInRunTable|base eb2           |param.txt     |No            |ERROR               |      |0                   |0                   |


